---
title: 'Lesson 1: Introducing... RStudio and R Notebook'
output: html_document
---

> ## Overview  
><br />
Teaching: 20 mins  
Exercises: 0 mins    
>
**Objectives**:  
>
> 1) Familiarize with RStudio layout
> 2) Create reports using RMarkdown
>
><br />

## Before Starting the Lesson
To facilitate the timeliness of the lesson, please ensure that you have these 
programs installed on your computer.

* Latest version of R
    - [For Windows](https://cran.r-project.org/bin/windows/base/)
    - [For Mac](https://cran.r-project.org/bin/macosx/)
    - [For Linux](https://cran.r-project.org/bin/linux/)
        
* [Latest version of RStudio](https://www.rstudio.com/https://rstudio.com/products/rstudio/download/)

## Introduction to RStudio
Welcome to the first lesson of this **Exploring the Tidyverse** series.  

In this lesson, we will go through some of the basics of the R language for
data analysis as well as share some common practices in documenting reports.  

We’ll be using RStudio: a free, open source R Integrated Development 
Environment (IDE). It provides a built in editor, works on all platforms 
(including on servers) and provides many advantages such as integration with 
version control and project management.

### RStudio layout
When you first open RStudio, you will be greeted by three panels:

* The interactive R console/Terminal (entire left)
* Environment/History/Connections (tabbed in upper right)
* Files/Plots/Packages/Help/Viewer (tabbed in lower right  
<br />
<!-- Add image of RStudio upon loading-->
```{r RStudio_load_image, fig.cap= "Figure 1: RStudio layout", echo =FALSE, fig.align='center',out.width="80%"}
knitr::include_graphics("./RStudio_upon_load.PNG", error = FALSE)
```
<br /><br />

Once you open files, such as R scripts, an editor panel will also open in the top left.
<br />
<!-- Add image of RStudio with a script -->
```{r RStudio_load_image2, fig.cap= "Figure 2: RStudio layout with editor", echo =FALSE, fig.align='center',out.width="80%"}
knitr::include_graphics("./RStudio_with_editor.PNG", error = FALSE)
```
<br /><br />


### Work flow within RStudio
There are two main ways one can work within RStudio:

1) Test and play within the interactive R console then copy code into a .R file 
to run later.

    * This works well when doing small tests and initially starting off.
    * It quickly becomes laborious


2) Start writing in a .R file and use RStudio’s short cut keys for the Run 
command to push the current line, selected lines or modified lines to the 
interactive R console.

    * This is a great way to start; all your code is saved for later
    * You will be able to run the file you create from within RStudio or using R’s source() function.

3) Simultaneously write and document your code in an R Markdown file and use Knit to
render the document to HTML or PDF.

    * A good practice to adopt right from the start
    * Output file contain publication-grade documentations and is easily shareable
    
## Using R Markdown
R Markdown is a file format for making dynamic documents with R. This file 
document is written in markdown (an easy-to-write plain text format) and 
contains chunks of embedded R code.  

### Creating your first R Markdown
To create your own R Markdown document, click 
File → New File → R Markdown. If this is your first time using RStudio, you 
will be prompted to install dependencies. Click **Yes**.

<br />
```{r RStudio_Rmkardown_install, fig.cap= "Figure 3: Prompt to install RMarkdown dependencies", echo =FALSE, fig.align='center',out.width="80%"}
knitr::include_graphics("./RStudio_upon_RMarkdown_load.PNG", error = FALSE)
```
<br /><br />

Once packages are successfully installed, you’ll get a dialog box like this:  
<br />
<!-- Add image of creating R Markdown -->
```{r RStudio_Rmarkdown_start, fig.cap= "Figure 4: Dialog box with RMarkdown document options", echo =FALSE, fig.align='center',out.width="80%"}
knitr::include_graphics("./RStudio_upon_RMarkdown_load2.PNG", error = FALSE)
```
<br /><br />
You may choose HTML as the default output format, but this can be changed later.  

A template R Markdown document will appear in the editor pane (top left corner).

### Basic components of an R Markdown
There are three basic components of an R Markdown document: the metadata, text, and code.  

The metadata usually sits at the top of the document and is written between the 
pair of three dashes `---`. This section contains information that can affect 
the code, content, and the rendering process. The content is written in YAML
and you may refer to this [guide](https://cran.r-project.org/web/packages/ymlthis/vignettes/yaml-fieldguide.html)
for detailed description of its syntax.  
<!-- Add image of YAML header -->
<br />
```{r RStudio_Rmarkdown_header, fig.cap= "Figure 5: Default RMarkdown metadata header", echo =FALSE, fig.align='center', out.width="50%"}
knitr::include_graphics("./RStudio_RMarkdown_header.PNG", error = FALSE)
```
<br /><br />

Text can be written anywhere underneath the metadata header and will be rendered
as the body of the document. To format text as headers, you may prefix the sentence
with a hash (#) symbol. For details on Markdown formatting options, refer to  this 
[CheatSheet](https://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet).  
<br />
```{r RStudio_Rmarkdown_text, fig.cap= "Figure 6: Text portion of an RMarkdown file", echo =FALSE, fig.align='center', out.width="50%"}
knitr::include_graphics("./RStudio_RMarkdown_text.PNG", error = FALSE)
```
<br /><br />

Finally, code can be written and executed within so-called **Chunks** bounded
by  ```` ```{r}````  and ```` ``` ````. There are a lot of things you can do in 
a code chunk: you can produce text output, tables, or graphics. You have fine 
control over all these output via chunk options, which can be provided inside 
the curly braces between ````{r```` and ````}````. Detailed information on 
chunk options can be found [here](https://bookdown.org/yihui./Rmarkdown./R-code.html).  
<br />
```{r RStudio_Rmarkdown_chunk, fig.cap= "Figure 7: Code chunks within RMarkdown", echo =FALSE, fig.align='center', out.width="80%"}
knitr::include_graphics("./RStudio_RMarkdown_chunk.PNG", error = FALSE)
```
<br /><br />

There are several ways to execute code within a chunk. The most straight-forward
method is to click on the green arrow button (![](./green-arrow.PNG)). This sends the 
entire code chunk to console for execution. Yet another way is to run specific code
within a chunk. This can be done by either highlighting the desired code or placing
the *text cursor* within a code, and then pressing `Ctrl + Enter` 
(or `Command + Enter` for Mac).  

You may save your RMarkdown document in your local directory by pressing `Ctrl + S`
(or `Command + S` for Mac) before proceeding.

### Rendering your RMarkdown document
Contents of our RMarkdown can be easily converted to HTML (default format chosen above)
by clicking on the **Knit** button (![](./knit-button.PNG)) at the top of the editor pane. If successful,
a new window will appear which displays the resulting HTML.  
<!-- Add image of KNIT output -->
<br />
```{r RStudio_Rmarkdown_knitted, fig.cap= "Figure 8: HTML Product of Knit", echo =FALSE, fig.align='center', out.width="80%"}
knitr::include_graphics("./Knit_output.PNG", error = FALSE)
```
<br /><br />

If you wish to create a PDF version of your document, you will need to have a LaTeX distribution installed.
This can be installed by typing the following code in console:  
<br />
```{r, eval = F}
tinytex::install_tinytex()
```
<br /><br />

To render your RMarkdown to PDF, click on the bottom-pointing arrow on the 
right side of the button **Knit** to reveal Knit options, and click on **Knit to PDF**.  
<!-- Add image of KNIT options -->
<br />
```{r RStudio_Rmarkdown_knit_options, fig.cap= "Figure 9: Revealing Knit options", echo =FALSE, fig.align='center', out.width="50%"}
knitr::include_graphics("./PDF_knit.PNG", error = FALSE)
```
<br /><br />

An example of a PDF output is show in Figure 10 below.
<!-- Add image of KNIT PDF output -->
<br />
```{r RStudio_Rmarkdown_PDF, fig.cap= "Figure 10: PDF product of Knit", echo =FALSE, fig.align='center', out.width="80%"}
knitr::include_graphics("./PDF_knit_out.PNG", error = FALSE)
```
<br /><br />


> ## Practice on your own
> <br />
> The Markdown syntax contain various formattings that enhances the body 
> of your document. Read this 
[CheatSheet](https://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet)
and attempt the following tasks in a new RMarkdown document.
>
> 1) Create an **ordered list** containing 3 of your favorite food
> 2) Bold the #1 fav from the above list
> 3) Insert an image of your #1 fav food. Can be from a local image on your computer or from a hyperlink.
>
> Render the created RMarkdown as HTML and compare your output with mine ([found here](https://bit.ly/3cFtYX3)).
>
><br />


<br /><br />
<br /><br />
<br /><br />
















